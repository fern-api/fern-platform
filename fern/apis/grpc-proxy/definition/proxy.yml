# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

service:
  auth: false
  base-path: ""
  endpoints:
    grpc:
      path: /grpc
      display-name: Proxy gRPC
      method: POST
      request:
        body: ProxyRequest
      response: ProxyResponse

types:
  ProxyRequest:
    properties:
      baseUrl:
        docs: The base URL to use for the call (e.g. https://acme.co).
        type: string
      endpoint:
        docs: The gRPC endpoint name (e.g. user.v1.UserService/GetUser).
        type: string
      headers:
        docs: |
          The set of encoded headers to send with the request (e.g. 'Authorization: Bearer ...').
        type: map<string, string>
      schema:
        docs: |
          The Protobuf schema that defines the API. If not specified, it's assumed the server
          supports gRPC reflection.
        type: optional<ProtobufSchema>
      body:
        docs: |
          The request body (represented as JSON) to include in the request, if any.
        type: optional<unknown>

  ProxyResponse:
    properties:
      body: optional<unknown>

  ProtobufSchema:
    union:
      remote: RemoteProtobufSchema

  RemoteProtobufSchema:
    properties:
      sourceUrl:
        docs: |
          The remote URL containing the Protobuf schema files that define this API.
          The content is assumed to be in a .zip file.
        type: string
