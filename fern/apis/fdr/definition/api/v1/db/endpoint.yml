# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

imports:
  readCommons: ../read/commons.yml
  readEndpoint: ../read/endpoint.yml

types:
  DbEndpointDefinition:
    extends: readCommons.WithDescription
    properties:
      authed: optional<boolean>
      availability: optional<readCommons.Availability>
      defaultEnvironment: optional<readEndpoint.EnvironmentId>
      environments: optional<list<readEndpoint.Environment>>
      method: readEndpoint.HttpMethod
      id: readEndpoint.EndpointId
      originalEndpointId:
        type: optional<string>
        docs: |
          The ID for the endpoint as declared within the IR, this is a unique name for the endpoint, whereas
          path and method are not (specifically for the fern definition, consider chat and chat stream).
          This is optional to remain backcompat with old definitions of yore.
      urlSlug: string
      migratedFromUrlSlugs: optional<list<string>>
      name: optional<string>
      path: readEndpoint.EndpointPath
      queryParameters: list<readEndpoint.QueryParameter>
      headers: list<readEndpoint.Header>
      request: optional<DbHttpRequest>
      response: optional<readEndpoint.HttpResponse>
      errors: optional<list<readEndpoint.ErrorDeclaration>>
      errorsV2: optional<list<readEndpoint.ErrorDeclarationV2>>
      examples: list<readEndpoint.ExampleEndpointCall>
      snippetTemplates: optional<readEndpoint.EndpointSnippetTemplates>

  DbHttpRequest:
    extends: readCommons.WithDescription
    properties:
      contentType: optional<string>
      type: readEndpoint.HttpRequestBodyShape
