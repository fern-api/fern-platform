{
  "$schema": "https://turbo.build/schema.json",
  "pipeline": {
    "build": {
      // Build depends on own codegen and downstream build
      "outputs": ["lib/**", "dist/**"],
      "dependsOn": ["^compile", "^build", "codegen"]
    },
    "codegen": {
      // Don't cache codegen. We may not know all the outputs
      // we can cache on a per-package basis
      "cache": false
    },
    "compile": {
      // Build depends on own codegen
      "outputs": ["lib/**", "dist/**"],
      "dependsOn": ["codegen", "^compile", "^build"]
    },
    "lint": {},
    "lint:eslint": {},
    "lint:style": {},
    "lint:eslint:fix": {},
    "lint:style:fix": {},
    "format:check": {},
    "depcheck": {},
    "clean": {
      "cache": false
    },
    "format": {},
    "test": {
      // Test depends on own compile
      "dependsOn": ["compile", "build"]
    },
    "test-db": {
      // Test depends on own compile
      "dependsOn": ["compile", "build"]
    },
    "test-ete": {
      // Test depends on own compile
      "dependsOn": ["compile", "build"]
    },
    "//#fdr:generate": {
      "inputs": ["fern/**"],
      "outputs": ["servers/fdr/src/api/generated/**", "packages/fdr-sdk/src/client/generated/**"]
    }
  },
  "globalDependencies": [".eslintrc.js", ".prettierrc.json"]
}
